/*
 * Sequence.js
 *
 * The responsive CSS animation framework for creating unique sliders,
 * presentations, banners, and other step-based applications.
 *
 * @link https://github.com/IanLunn/Sequence
 * @author IanLunn
 * @version 2.1.0
 * @license http://sequencejs.com/licenses/
 * @copyright Ian Lunn Design Limited 2015
 */
function defineSequence(e,t){"use strict";var n=[],i=0,r=function(r,s){function o(e){return"[object Array]"===Object.prototype.toString.call(e)?!0:!1}function a(e,t){for(var n in t)e[n]=t[n];return e}function u(e,t){var n;return e.currentStyle?n=e.currentStyle[t]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(e,"")[t]),n}function c(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1),n;if(e.attachEvent){var i=function(){n.call(e)};return e.attachEvent("on"+t,i),i}}function l(e,t,n){e.addEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}function d(e){var t,n;return n=e.indexOf("ms")>-1?1:1e3,t="0s"==e?0:parseFloat(e.replace("s",""))*n}function p(e,t){return void 0!==e?new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className):void 0}function h(e,t){var n,i,r;for(o(e)===!1&&(i=1,e=[e]),i=e.length,r=0;i>r;r++)n=e[r],p(n,t)===!1&&(n.className+=(n.className?" ":"")+t)}function f(e,t){var n,i,r;for(o(e)===!1?(i=1,e=[e]):i=e.length,r=0;i>r;r++)n=e[r],p(n,t)===!0&&(n.className=n.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))}function m(e,t){var n=e.getBoundingClientRect(),i=!1;return t.clientX>=n.left&&t.clientX<=n.right&&t.clientY>=n.top&&t.clientY<=n.bottom&&(i=!0),i}function v(e,t,n){if("BODY"===t.nodeName)return!1;if(e!==t)return n=t,v(e,t.parentNode,n);if(void 0!==n)for(var i=n,r=e.getElementsByTagName(i.nodeName),s=r.length;s--;)if(i===r[s])return s+1}function g(e){var n=0,i=t.DIRECTION_NONE;return(void 0!==e.left||void 0!==e.right)&&(n+=1),(void 0!==e.up||void 0!==e.down)&&(n+=2),1===n?i=t.DIRECTION_HORIZONTAL:2===n?i=t.DIRECTION_VERTICAL:3===n&&(i=t.DIRECTION_ALL),i}function y(e,t){var n="seq-",i="no-touch";t.touch===!0&&(i="touch"),h(e,n+i)}var T=r.getAttribute("data-seq-enabled");if(null!==T)return n[T];r.setAttribute("data-seq-enabled",i),i++;var w={startingStepId:1,startingStepAnimatesIn:!1,cycle:!0,phaseThreshold:!0,reverseWhenNavigatingBackwards:!1,reverseTimingFunctionWhenNavigatingBackwards:!1,moveActiveStepToTop:!0,animateCanvas:!0,animateCanvasDuration:250,autoPlay:!1,autoPlayInterval:5e3,autoPlayDelay:null,autoPlayDirection:1,autoPlayButton:!0,autoPlayPauseOnHover:!0,navigationSkip:!0,navigationSkipThreshold:250,fadeStepWhenSkipped:!0,fadeStepTime:500,ignorePhaseThresholdWhenSkipped:!1,preventReverseSkipping:!1,nextButton:!0,prevButton:!0,pagination:!0,preloader:!1,preloadTheseSteps:[1],preloadTheseImages:[],hideStepsUntilPreloaded:!1,pausePreloader:!1,keyNavigation:!1,numericKeysGoToSteps:!1,keyEvents:{left:function(e){e.prev()},right:function(e){e.next()}},swipeNavigation:!0,swipeEvents:{left:function(e){e.next()},right:function(e){e.prev()},up:void 0,down:void 0},swipeHammerOptions:{},hashTags:!1,hashDataAttribute:!1,hashChangesOnFirstStep:!1,fallback:{speed:500}},E=50,k=100,S={animation:{WebkitAnimation:"-webkit-",animation:""}},b=function(e,t,n){function i(e){g.cssText=e}function r(e,t){return typeof e===t}function s(e,t){return!!~(""+e).indexOf(t)}function o(e,t){for(var i in e){var r=e[i];if(!s(r,"-")&&g[r]!==n)return"pfx"==t?r:!0}return!1}function a(e,t,i){for(var s in e){var o=t[e[s]];if(o!==n)return i===!1?e[s]:r(o,"function")?o.bind(i||t):o}return!1}function u(e,t,n){var i=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+w.join(i+" ")+i).split(" ");return r(t,"string")||r(t,"undefined")?o(s,t):(s=(e+" "+E.join(i+" ")+i).split(" "),a(s,t,n))}var c,l,d,p="2.8.3",h={},f=t.documentElement,m="modernizr",v=t.createElement(m),g=v.style,y=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),T="Webkit Moz O ms",w=T.split(" "),E=T.toLowerCase().split(" "),k={svg:"http://www.w3.org/2000/svg"},S={},b=[],P=b.slice,A=function(e,n,i,r){var s,o,a,u,c=t.createElement("div"),l=t.body,d=l||t.createElement("body");if(parseInt(i,10))for(;i--;)a=t.createElement("div"),a.id=r?r[i]:m+(i+1),c.appendChild(a);return s=["&#173;",'<style id="s',m,'">',e,"</style>"].join(""),c.id=m,(l?c:d).innerHTML+=s,d.appendChild(c),l||(d.style.background="",d.style.overflow="hidden",u=f.style.overflow,f.style.overflow="hidden",f.appendChild(d)),o=n(c,e),l?c.parentNode.removeChild(c):(d.parentNode.removeChild(d),f.style.overflow=u),!!o},x={}.hasOwnProperty;d=r(x,"undefined")||r(x.call,"undefined")?function(e,t){return t in e&&r(e.constructor.prototype[t],"undefined")}:function(e,t){return x.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=P.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=t.prototype;var s=new r,o=t.apply(s,n.concat(P.call(arguments)));return Object(o)===o?o:s}return t.apply(e,n.concat(P.call(arguments)))};return i}),S.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:A(["@media (",y.join("touch-enabled),("),m,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n},S.cssanimations=function(){return u("animationName")},S.csstransforms=function(){return!!u("transform")},S.csstransitions=function(){return u("transition")},S.svg=function(){return!!t.createElementNS&&!!t.createElementNS(k.svg,"svg").createSVGRect};for(var q in S)d(S,q)&&(l=q.toLowerCase(),h[l]=S[q](),b.push((h[l]?"":"no-")+l));return h.addTest=function(e,t){if("object"==typeof e)for(var i in e)d(e,i)&&h.addTest(i,e[i]);else{if(e=e.toLowerCase(),h[e]!==n)return h;t="function"==typeof t?t():t,"undefined"!=typeof enableClasses&&enableClasses&&(f.className+=" "+(t?"":"no-")+e),h[e]=t}return h},i(""),v=c=null,h._version=p,h._prefixes=y,h._domPrefixes=E,h._cssomPrefixes=w,h.testProp=function(e){return o([e])},h.testAllProps=u,h.testStyles=A,h.prefixed=function(e,t,n){return t?u(e,t,n):u(e,"pfx")},h}(window,window.document);Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var n=this.length>>>0;for(t=+t||0,Math.abs(t)===1/0&&(t=0),0>t&&(t+=n,0>t&&(t=0));n>t;t++)if(this[t]===e)return t;return-1});var P,A;"undefined"!=typeof document.hidden?(P="hidden",A="visibilitychange"):"undefined"!=typeof document.mozHidden?(P="mozHidden",A="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(P="msHidden",A="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(P="webkitHidden",A="webkitvisibilitychange");var x={modernizr:b};return x.ui={defaultElements:{nextButton:"seq-next",prevButton:"seq-prev",autoPlayButton:"seq-autoplay",pagination:"seq-pagination",preloader:"seq-preloader"},getElements:function(e,t){var n,i,r,s,o,a=[];for(i=t===!0?document.querySelectorAll("."+this.defaultElements[e]):document.querySelectorAll(t),r=i.length,o=0;r>o;o++)n=i[o],s=n.getAttribute("rel"),(null===s||s===x.$container.getAttribute("id"))&&a.push(n);return a},show:function(e,t){x.propertySupport.transitions===!0?(e.style[b.prefixed("transitionDuration")]=t+"ms",e.style[b.prefixed("transitionProperty")]="opacity, "+b.prefixed("transform"),e.style.opacity=1):x.animationFallback.animate(e,"opacity","",0,1,t)},hide:function(e,t,n){x.propertySupport.transitions===!0?(e.style[b.prefixed("transitionDuration")]=t+"ms",e.style[b.prefixed("transitionProperty")]="opacity, "+b.prefixed("transform"),e.style.opacity=0):x.animationFallback.animate(e,"opacity","",1,0,t),void 0!==n&&(x.hideTimer=setTimeout(function(){n()},t))}},x.autoPlay={init:function(){x.isAutoPlayPaused=!1,x.isAutoPlaying=!1},getDelay:function(e,t,n){switch(e){case!0:e=null===t?n:t;break;case!1:case void 0:e=0}return e},start:function(e,t){if(x.isAutoPlaying===!0||x.isReady===!1)return!1;var n=x.options;return e=this.getDelay(e,n.autoPlayDelay,n.autoPlayInterval),void 0===t&&x.started(x),h(x.$container,"seq-autoplaying"),h(x.$autoPlay,"seq-autoplaying"),n.autoPlay=!0,x.isAutoPlaying=!0,x.isAnimating===!1&&(x.autoPlayTimer=setTimeout(function(){1===n.autoPlayDirection?x.next():x.prev()},e)),!0},stop:function(){return x.options.autoPlay!==!0||x.isAutoPlaying!==!0?!1:(x.options.autoPlay=!1,x.isAutoPlaying=!1,clearTimeout(x.autoPlayTimer),f(x.$container,"seq-autoplaying"),f(x.$autoPlay,"seq-autoplaying"),x.stopped(x),!0)},unpause:function(){return x.isAutoPlayPaused!==!0?!1:(x.isAutoPlayPaused=!1,this.start(!0),!0)},pause:function(){return x.options.autoPlay!==!0?!1:(x.isAutoPlayPaused=!0,this.stop(),!0)}},x.canvas={init:function(e){void 0!==x.$screen&&(x.$screen.style.height="100%",x.$screen.style.width="100%"),x.canvas.getTransformProperties()},getSteps:function(e){var t,n,i,r=[],s=e.children,o=s.length;for(x.stepProperties={},i=0;o>i;i++)n=s[i],t=i+1,r.push(n),x.stepProperties[t]={},x.stepProperties[t].isActive=!1;return r},getTransformProperties:function(){var e,t,n,i;for(e=0;e<x.noOfSteps;e++)t=x.$steps[e],n=e+1,i={seqX:0,seqY:0,seqZ:0},i.seqX+=-1*t.offsetLeft,i.seqY+=-1*t.offsetTop,x.stepProperties[n].canvasTransform=i},move:function(e,t){if(x.options.animateCanvas===!0){var n,i=0;return t===!0&&x.firstRun===!1&&(i=x.options.animateCanvasDuration),x.isFallbackMode===!1&&(n=x.stepProperties[e].canvasTransform,x.$canvas.style[b.prefixed("transitionDuration")]=i+"ms",x.$canvas.style[b.prefixed("transform")]="translateX("+n.seqX+"px) translateY("+n.seqY+"px) translateZ("+n.seqZ+"px) "),!0}return!1},removeNoJsClass:function(){if(x.isFallbackMode!==!0)for(var e=0;e<x.$steps.length;e++){var t=x.$steps[e];if(p(t,"seq-in")===!0){var n=e+1;x.animation.resetInheritedSpeed(n),f(t,"seq-in")}}}},x.animation={getPhaseProperties:function(e){var t,n,i,r,s=x.$steps[e-1],o=s.querySelectorAll("*[data-seq]"),a=s.querySelectorAll("*"),c=a.length,l=[],p=[],h=[],f=[],m=[],v=[];for(n=0;c>n;n++)t=a[n],i=d(u(t,b.prefixed("transitionDuration"))),r=d(u(t,b.prefixed("transitionDelay"))),f.push(i),m.push(r),v.push(i+r),null!==t.getAttribute("data-seq")&&(l.push(i),p.push(r),h.push(i+r));var g=Math.max.apply(Math,f),y=Math.max.apply(Math,m),T=Math.max.apply(Math,v),w=Math.max.apply(Math,l),E=Math.max.apply(Math,p),k=Math.max.apply(Math,h);return{stepId:e,stepElement:s,children:a,animatedChildren:o,watchedTimings:{maxDuration:w,maxDelay:E,maxTotal:k},timings:{maxDuration:g,maxDelay:y,maxTotal:T}}},getPhaseThreshold:function(e,t,n,i){var r=0;return n===!0&&x.options.ignorePhaseThresholdWhenSkipped===!0&&(e=!0),void 0===e&&(t===!0?r=i:t!==!1&&(r=t)),r},getReversePhaseDelay:function(e,t,n,i,r){var s=0,o=0,a=0;return n===!0||i!==!1&&r!==!1||(s=e-t,s>0?a=s:0>s&&(o=Math.abs(s))),{next:a,current:o}},moveActiveStepToTop:function(e,t){if(x.options.moveActiveStepToTop===!0){var n=x.$steps[x.prevStepId-1],i=x.noOfSteps-1;n.style.zIndex=1,e.style.zIndex=i,t.style.zIndex=x.noOfSteps}return null},manageNavigationSkip:function(e,t){if(x.isFallbackMode!==!0){var n,i,r,s,o;if(x.ui.show(t,0),x.options.navigationSkip===!0){if(x.navigationSkipThresholdActive=!0,0!==x.phasesAnimating&&(clearTimeout(x.phaseThresholdTimer),clearTimeout(x.nextPhaseStartedTimer),x.options.fadeStepWhenSkipped===!0))for(n=1;n<=x.noOfSteps;n++)i=x.stepProperties[n],i.isActive===!0&&n!==e&&(r=x.$steps[n-1],s=n,o={},o.id=s,o.element=r,x.phasesSkipped.push(o),x.animation.stepSkipped(r));x.navigationSkipThresholdTimer=setTimeout(function(){x.navigationSkipThresholdActive=!1},x.options.navigationSkipThreshold)}}},stepSkipped:function(e){x.ui.hide(e,x.options.fadeStepTime,function(){})},changeStep:function(e){var t="seq-step"+e;if(void 0!==x.currentStepId){var n="seq-step"+x.currentStepId;h(x.$container,t),f(x.$container,n)}else h(x.$container,t)},reverseProperties:function(e,t,n,i,r){var s,o,a,c,l,p,h,f=this,m=e.children,v=m.length,g=e.timings,y="",T="",w=[],E=[];for(o=0;v>o;o++)s=m[o],a=d(u(s,b.prefixed("transitionDuration"))),c=d(u(s,b.prefixed("transitionDelay"))),l=a+c,c=g.maxTotal-l,i!==!0&&(c+=t),l=a+c,w.push(l),null!==s.getAttribute("data-seq")&&E.push(l),r.reverseTimingFunctionWhenNavigatingBackwards===!0&&(y=u(s,b.prefixed("transitionTimingFunction")),T=f.reverseTimingFunction(y)),s.style[b.prefixed("transition")]=a+"ms "+c+"ms "+T;return p=Math.max.apply(Math,w),h=Math.max.apply(Math,E),setTimeout(function(){f.domDelay(function(){for(o=0;v>o;o++)s=m[o],s.style[b.prefixed("transition")]=""})},p+n),h},forward:function(e,t,n,i,r){var s,o,a,u=this;x.firstRun===!1&&u.currentPhaseStarted(x.currentStepId),f(n,"seq-out"),u.domDelay(function(){s=u.startAnimateOut(x.currentStepId,t,1),o=s.watchedTimings.maxTotal,a=u.getPhaseThreshold(i,x.options.phaseThreshold,x.isAnimating,o),x.isAnimating=!0,u.startAnimateIn(e,o,n,a,r)})},reverse:function(e,t,n,i,r){var s,o,a,u,c,l=this,d=0;h(n,"seq-out"),l.domDelay(function(){o=l.getPhaseProperties(x.currentStepId,"current"),a=l.getPhaseProperties(e,"next"),d=l.getPhaseThreshold(i,x.options.phaseThreshold,x.isAnimating,o.timings.maxTotal),s=l.getReversePhaseDelay(o.timings.maxTotal,a.timings.maxTotal,x.options.phaseThreshold,x.options.ignorePhaseThresholdWhenSkipped,x.isAnimating),u=l.reverseProperties(o,s.current,0,i,x.options),c=l.reverseProperties(a,s.next,d,i,x.options),l.startAnimateOut(x.currentStepId,t,-1,u),x.isAnimating=!0,x.firstRun===!1&&l.currentPhaseStarted(x.currentStepId),l.startAnimateIn(e,u,n,d,r,c)})},startAnimateIn:function(e,t,n,i,r,s){var o,a,u=this;x.prevStepId=x.currentStepId,x.currentStepId=e,x.firstRun===!0&&x.pagination.update(),x.firstRun===!1||x.options.startingStepAnimatesIn===!0?(x.stepProperties[e].isActive=!0,x.nextPhaseStartedTimer=setTimeout(function(){u.nextPhaseStarted(e,r)},i),x.phaseThresholdTimer=setTimeout(function(){h(n,"seq-in"),f(n,"seq-out"),void 0===s&&(o=x.animation.getPhaseProperties(e,"next"),s=o.watchedTimings.maxTotal),u.phaseEnded(e,"next",s,u.nextPhaseEnded),a=u.getStepDuration(t,s,x.options.phaseThreshold),x.stepEndedTimer=setTimeout(function(){x.animation.stepEnded(e)},a)},i)):(u.resetInheritedSpeed(e),x.phasesAnimating=0,x.isAnimating=!1,x.options.autoPlay===!0&&x.autoPlay.start(!0),h(n,"seq-in"),f(n,"seq-out")),x.firstRun=!1},startAnimateOut:function(e,t,n,i){var r,s=this;return 1===n?(f(t,"seq-in"),h(t,"seq-out"),r=s.getPhaseProperties(e,"current"),i=r.watchedTimings.maxTotal):f(t,"seq-in"),x.firstRun===!1&&(x.stepProperties[e].isActive=!0,s.phaseEnded(e,"current",i,s.currentPhaseEnded)),r},getStepDuration:function(e,t,n){var i;switch(n){case!0:i=t;break;case!1:i=e>=t?e:t;break;default:i=e>=t+n?e-n:t}return i},currentPhaseStarted:function(e){x.phasesAnimating++,x.currentPhaseStarted(e,x)},currentPhaseEnded:function(e){x.currentPhaseEnded(e,x)},nextPhaseStarted:function(e,t){x.phasesAnimating++,void 0===t&&x.hashTags.update(),x.pagination.update(),x.nextPhaseStarted(e,x)},nextPhaseEnded:function(e){x.nextPhaseEnded(e,x)},phaseEnded:function(e,t,n,i){var r;r=function(e){x.stepProperties[e].isActive=!1,x.phasesAnimating--,i(e)},"current"===t?x.currentPhaseEndedTimer=setTimeout(function(){r(e)},n):x.nextPhaseEndedTimer=setTimeout(function(){r(e)},n)},stepEnded:function(e){x.isAnimating=!1,x.isAutoPlaying=!1,x.options.autoPlay===!0&&x.autoPlay.start(!0,!0),x.animationEnded(e,x)},reversePhase:function(e){var t={"seq-out":"seq-in","seq-in":"seq-out"};return t[e]},domDelay:function(e){setTimeout(function(){e()},E)},reverseTimingFunction:function(e){if(""===e||void 0===e)return e;var t,n,i,r,s={linear:"cubic-bezier(0.0,0.0,1.0,1.0)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1.0)","ease-in":"cubic-bezier(0.42, 0.0, 1.0, 1.0)","ease-in-out":"cubic-bezier(0.42, 0.0, 0.58, 1.0)","ease-out":"cubic-bezier(0.0, 0.0, 0.58, 1.0)"};for(e.indexOf("cubic-bezier")<0&&(e=e.split(",")[0],e=s[e]),t=e.replace("cubic-bezier(","").replace(")","").split(","),n=t.length,r=0;n>r;r++)t[r]=parseFloat(t[r]);return i=[1-t[2],1-t[3],1-t[0],1-t[1]],e="cubic-bezier("+i+")"},resetInheritedSpeed:function(e){if(x.isFallbackMode!==!0){var t,n,i=x.$steps[e-1].querySelectorAll("*"),r=i.length;for(n=0;r>n;n++)t=i[n],t.style[b.prefixed("transition")]="0ms 0ms";x.animation.domDelay(function(){for(n=0;r>n;n++)t=i[n],t.style[b.prefixed("transition")]=""})}},getDirection:function(e,t,n,i,r,s,o){var a=1;return a=void 0!==t?t:s===!0||r===!0?o===!0&&1===e&&n===i?1:n>e?-1:1:1},requiresFallbackMode:function(e){var t=e.transitions,n=!1;return t===!1&&(n=!0),n},getPropertySupport:function(e){var t=!1,n=!1;return b.csstransitions===!0&&(t=!0),b.cssanimations===!0&&(n=!0),{transitions:t,animations:n}}},x.animationFallback={animate:function(e,t,n,i,r,s,o){if(e!==!1){var a=(new Date).getTime(),u=setInterval(function(){var c=Math.min(1,((new Date).getTime()-a)/s);e.style[t]=i+c*(r-i)+n,1===c&&(void 0!==o&&o(),clearInterval(u))},25);e.style[t]=i+n}},setupCanvas:function(e){var t,n,i;if(x.isFallbackMode===!0)for(h(x.$container,"seq-fallback"),void 0!==x.$screen&&(x.$screen.style.overflow="hidden",x.$screen.style.width="100%",x.$screen.style.height="100%"),x.$canvas.style.width="100%",x.$canvas.style.height="100%",this.canvasWidth=x.$canvas.offsetWidth,t=0;t<x.noOfSteps;t++)n=x.$steps[t],i=t+1,h(n,"seq-in"),n.style.width="100%",n.style.height="100%",n.style.position="absolute",n.style.whiteSpace="normal",n.style.left="100%"},moveCanvas:function(e,t,n,i){if(i===!0){var r=0,s=-100,o=100,a=0;-1===n&&(s=100,o=-100),this.animate(t,"left","%",r,s,x.options.fallback.speed),this.animate(e,"left","%",o,a,x.options.fallback.speed)}else t.style.left="-100%",e.style.left="0"},goTo:function(e,t,n,i,r,s,o){x.prevStepId=x.currentStepId,x.currentStepId=e,void 0===o&&x.hashTags.update(),x.pagination.update(),x.firstRun===!1?(this.moveCanvas(r,n,s,!0),x.isAnimating=!0,x.animationStarted(x.currentStepId,x),x.stepEndedTimer=setTimeout(function(){x.animation.stepEnded(x.currentStepId)},x.options.fallback.speed)):(this.moveCanvas(r,n,s,!1),x.firstRun=!1,x.options.autoPlay===!0&&x.autoPlay.start(!0))}},x.pagination={getLinks:function(e,t){var n,i,r=e.childNodes,s=r.length,o=[];for(i=0;s>i;i++)n=r[i],1===n.nodeType&&o.push(n);return o},update:function(){if(void 0!==x.$pagination.elements){var e,t,n,i,r=x.currentStepId-1,s=x.$pagination.elements.length;if(void 0!==x.$pagination.currentLinks)for(i=x.$pagination.currentLinks.length,e=0;i>e;e++)n=x.$pagination.currentLinks[e],f(n,"seq-current");for(x.$pagination.currentLinks=[],t=0;s>t;t++)n=x.$pagination.links[t][r],x.$pagination.currentLinks.push(n),h(n,"seq-current")}return x.$pagination.currentLinks}},x.hashTags={init:function(e){if(x.options.hashTags===!0){var t,n;x.hasPushstate=!(!window.history||!history.pushState),n=location.hash.replace("#!",""),x.stepHashTags=this.getStepHashTags(),""!==n&&(x.currentHashTag=n,t=this.hasCorrespondingStep(x.currentHashTag),t>-1&&(e=t+1))}return e},hasCorrespondingStep:function(e){var t=-1,n=x.stepHashTags.indexOf(e);return n>-1&&(t=n),t},getStepHashTags:function(){var e,t,n=[];for(e=0;e<x.noOfSteps;e++)t=x.options.hashDataAttribute===!1?x.$steps[e].id:x.$steps[e].getAttribute("data-seq-hashtag"),n.push(t);return n},update:function(){if(x.options.hashTags===!0&&x.firstRun===!1||x.options.hashTags===!0&&x.firstRun===!0&&x.options.hashChangesOnFirstStep===!0){var e=x.currentStepId-1;x.currentHashTag=x.stepHashTags[e],""!==x.currentHashtag&&(x.hasPushstate===!0?history.pushState(null,null,"#!"+x.currentHashTag):location.hash="#!"+x.currentHashTag)}},setupEvent:function(){if("onhashchange"in window){if(window.addEventListener)return window.addHashChange=function(e,t){window.addEventListener("hashchange",e,t)},void(window.removeHashChange=function(e){window.removeEventListener("hashchange",e)});if(window.attachEvent)return window.addHashChange=function(e){window.attachEvent("onhashchange",e)},void(window.removeHashChange=function(e){window.detachEvent("onhashchange",e)})}var e=[],t=location.href;window.addHashChange=function(t,n){"function"==typeof t&&e[n?"unshift":"push"](t)},window.removeHashChange=function(t){for(var n=e.length-1;n>=0;n--)e[n]===t&&e.splice(n,1)},setInterval(function(){var n=location.href;if(t!==n){var i=t;t=n;for(var r=0;r<e.length;r++)e[r].call(window,{type:"hashchange",newURL:n,oldURL:i})}},100)}},x.preload={defaultHtml:'<svg width="39" height="16" viewBox="0 0 39 16" xmlns="http://www.w3.org/2000/svg" class="seq-preload-indicator"><title>Sequence.js Preloading Indicator</title><desc>Three orange dots increasing in size from left to right</desc><g fill="#F96D38"><path class="seq-preload-circle seq-preload-circle-1" d="M3.999 12.012c2.209 0 3.999-1.791 3.999-3.999s-1.79-3.999-3.999-3.999-3.999 1.791-3.999 3.999 1.79 3.999 3.999 3.999z"/><path class="seq-preload-circle seq-preload-circle-2" d="M15.996 13.468c3.018 0 5.465-2.447 5.465-5.466 0-3.018-2.447-5.465-5.465-5.465-3.019 0-5.466 2.447-5.466 5.465 0 3.019 2.447 5.466 5.466 5.466z"/><path class="seq-preload-circle seq-preload-circle-3" d="M31.322 15.334c4.049 0 7.332-3.282 7.332-7.332 0-4.049-3.282-7.332-7.332-7.332s-7.332 3.283-7.332 7.332c0 4.05 3.283 7.332 7.332 7.332z"/></g></svg>',fallbackHtml:'<div class="seq-preload-indicator seq-preload-indicator-fallback"><div class="seq-preload-circle seq-preload-circle-1"></div><div class="seq-preload-circle seq-preload-circle-2"></div><div class="seq-preload-circle seq-preload-circle-3"></div></div>',defaultStyles:"@"+S.animation[b.prefixed("animation")]+"keyframes seq-preloader {50% {opacity: 1;}100% {opacity: 0;}}.seq-preloader {background: white;visibility: visible;opacity: 1;position: absolute;z-index: 9999;height: 100%;width: 100%;top: 0;left: 0;right: 0;bottom: 0;} .seq-preloader.seq-preloaded {opacity: 0;visibility: hidden;"+b.prefixed("transition")+": visibility 0s .5s, opacity .5s;}.seq-preload-indicator {overflow: visible;position: relative;top: 50%;left: 50%;-webkit-transform: translate(-50%, -50%);transform: translate(-50%, -50%);}.seq-preload-circle {display: inline-block;height: 12px;width: 12px;fill: #F96D38;opacity: 0;"+S.animation[b.prefixed("animation")]+"animation: seq-preloader 1.25s infinite;}.seq-preload-circle-2 {"+S.animation[b.prefixed("animation")]+"animation-delay: .15s;}.seq-preload-circle-3 {"+S.animation[b.prefixed("animation")]+"animation-delay: .3s;}.seq-preload-indicator-fallback{width: 42px;margin-left: -21px;overflow: visible;}.seq-preload-indicator-fallback .seq-preload-circle {width: 8px; height:8px;background-color: #F96D38;border-radius: 100%; opacity: 1;display: inline-block; vertical-align: middle;}.seq-preload-indicator-fallback .seq-preload-circle-2{margin-left: 3px; margin-right: 3px; width: 12px; height: 12px;}.seq-preload-indicator-fallback .seq-preload-circle-3{width: 16px; height: 16px;}",init:function(t){if(x.options.preloader!==!1){var n,i,r,s,o,a,u=this;return h(x.$container,"seq-preloading"),x.$preloader=x.ui.getElements("preloader",x.options.preloader),u.append(),u.addStyles(),u.toggleStepsVisibility("hide"),n=u.getImagesToPreload(x.options.preloadTheseSteps),i=u.getImagesToPreload(x.options.preloadTheseImages,!0),r=n.concat(i),s=e(r),s.on("always",function(e){u.complete(t)}),o=1,s.on("progress",function(e,t){a=t.isLoaded?"loaded":"broken",x.preloadProgress(a,t.img.src,o++,r.length,x)}),!0}return!1},complete:function(e){x.preloaded(x),x.options.pausePreloader!==!0&&(this.toggleStepsVisibility("show"),f(x.$container,"seq-preloading"),h(x.$container,"seq-preloaded"),h(x.$preloader[0],"seq-preloaded"),void 0!==this.preloadIndicatorTimer&&clearInterval(this.preloadIndicatorTimer),(b.prefixed("animation")===!1||b.svg===!1)&&(x.$preloader[0].style.display="none"),void 0!==e&&e())},addStyles:function(){if(x.options.preloader===!0){var e=document.head||document.getElementsByTagName("head")[0];if(this.styleElement=document.createElement("style"),this.styleElement.type="text/css",this.styleElement.styleSheet?this.styleElement.styleSheet.cssText=this.defaultStyles:this.styleElement.appendChild(document.createTextNode(this.defaultStyles)),e.appendChild(this.styleElement),b.prefixed("animation")===!1||b.svg===!1){var t=x.$preloader[0].firstChild,n=function(){t.style.visibility="hidden",preloadFlashTime=1e3,setTimeout(function(){t.style.visibility="visible"},500)};n(),this.preloadIndicatorTimer=setInterval(function(){n()},1e3)}return!0}return!1},removeStyles:function(){this.styleElement.parentNode.removeChild(this.styleElement)},getImagesToPreload:function(e,t){var n=[];if(o(e)===!0){var i,r,s,a,u,c,l,d,p=e.length;if(t!==!0)for(i=0;p>i;i++)for(s=x.$steps[i],a=s.getElementsByTagName("img"),u=a.length,r=0;u>r;r++)c=a[r],n.push(c);else for(l=[],i=0;p>i;i++)d=e[i],l[i]=new Image,l[i].src=d,n.push(l[i])}return n},append:function(){return x.options.preloader===!0?(x.$preloader=document.createElement("div"),x.$preloader.className="seq-preloader",x.$preloader=[x.$preloader],b.prefixed("animation")!==!1&&b.svg===!0?x.$preloader[0].innerHTML=x.preload.defaultHtml:x.$preloader[0].innerHTML=x.preload.fallbackHtml,x.$container.insertBefore(x.$preloader[0],null),!0):!1},toggleStepsVisibility:function(e){if(x.options.hideStepsUntilPreloaded===!0){var t,n;for(t=0;t<x.noOfSteps;t++)n=x.$steps[t],"hide"===e?x.ui.hide(n,0):x.ui.show(n,0);return!0}return!1}},x.manageEvents={list:{load:[],click:[],touchstart:[],mousemove:[],mouseleave:[],hammer:[],keyup:[],hashchange:[],resize:[]},init:function(){return x.manageEvents.list[A]=[],x.options.hashTags===!0&&this.add.hashChange(),x.options.swipeNavigation===!0?this.add.swipeNavigation():x.hammerTime=!1,x.options.keyNavigation===!0&&this.add.keyNavigation(),this.add.resizeThrottle(),this.add.pageVisibility(),x.options.nextButton!==!1&&(x.$next=x.ui.getElements("nextButton",x.options.nextButton),this.add.button(x.$next,"nav",x.next)),x.options.prevButton!==!1&&(x.$prev=x.ui.getElements("prevButton",x.options.prevButton),this.add.button(x.$prev,"nav",x.prev)),x.options.autoPlayButton!==!1&&(x.$autoPlay=x.ui.getElements("autoPlayButton",x.options.autoPlayButton),this.add.button(x.$autoPlay,"nav",x.toggleAutoPlay)),this.add.stopOnHover(),x.options.pagination!==!1&&(x.$pagination={},x.$pagination.relatedElementId=i,x.$pagination.links=[],x.$pagination.elements=x.ui.getElements("pagination",x.options.pagination),this.add.button(x.$pagination.elements,"pagination")),null},removeAll:function(e){var t,n;for(t in e)e.hasOwnProperty(t)===!0&&(n=e[t],this.remove(t));return null},remove:function(e){var t=x.manageEvents.list[e],n=t.length;switch(e){case"hashchange":x.options.hashTags===!0&&removeHashChange(t[0].handler);break;case"hammer":if(x.manageEvents.list.hammer.length>0&&void 0!==document.querySelectorAll){var i=x.manageEvents.list.hammer[0].handler;x.hammerTime.off("swipe",[i])}break;default:for(var r=0;n>r;r++){var s=t[r];l(s.element,e,s.handler)}}},add:{hashChange:function(){x.hashTags.setupEvent();var e=function(e){var t,n;t=e.newURL||location.href,t=t.split("#!")[1],x.currentHashTag!==t&&(n=x.stepHashTags.indexOf(t)+1,x.currentHashTag=t,x.goTo(n,void 0,void 0,!0))};return addHashChange(e),x.manageEvents.list.hashchange.push({element:window,handler:e}),x.manageEvents.list.hashchange},button:function(e,t,n){var i,r,s,o,a,u,l,d=e.length;switch(t){case"nav":s=function(e){i=c(e,"click",function(e){e||(e=window.event),e.preventDefault?e.preventDefault():e.returnValue=!1,n()})};break;case"pagination":s=function(e,t){i=c(e,"click",function(e,t){e||(e=window.event),e.preventDefault?e.preventDefault():e.returnValue=!1;var n=e.target||e.srcElement;o=this,u=v(o,n),x.goTo(u)}),x.$pagination.links.push(x.pagination.getLinks(e,t))}}for(l=0;d>l;l++)r=e[l],a=r.getAttribute("rel"),a===x.$container.id&&null===r.getAttribute("data-seq-button")?(r.setAttribute("data-seq-button",!0),s(r,a)):null===a&&null===r.getAttribute("data-seq-button")&&s(r,a),x.manageEvents.list.click.push({element:r,handler:i});return x.manageEvents.list.click},stopOnHover:function(){var e,t;return x.isMouseOver=!1,e=c(x.$container,"touchstart",function(e){x.isTouched=!0}),x.manageEvents.list.touchstart.push({element:x.$container,handler:e}),t=c(x.$container,"mousemove",function(e){return e=e||window.event,x.isTouched===!0?void(x.isTouched=!1):void(m(x.$container,e)===!0?(x.options.autoPlayPauseOnHover===!0&&x.isMouseOver===!1&&x.autoPlay.pause(),x.isMouseOver=!0):(x.options.autoPlayPauseOnHover===!0&&x.isMouseOver===!0&&x.autoPlay.unpause(),x.isMouseOver=!1))}),x.manageEvents.list.mousemove.push({element:x.$container,handler:t}),t=c(x.$container,"mouseleave",function(e){x.options.autoPlayPauseOnHover===!0&&x.autoPlay.unpause(),x.isMouseOver=!1}),x.manageEvents.list.mouseleave.push({element:x.$container,handler:t}),null},swipeNavigation:function(){if(void 0===window.addEventListener)return void(x.hammerTime=!1);var e,n;"function"==typeof t&&(n=function(e){switch(e.direction){case 2:x.options.swipeEvents.left(x);break;case 4:x.options.swipeEvents.right(x);break;case 8:x.options.swipeEvents.up(x);break;case 16:x.options.swipeEvents.down(x)}},x.hammerTime=new t(x.$container).on("swipe",n),x.hammerTime.get("swipe").set(x.options.swipeHammerOptions),e=g(x.options.swipeEvents),x.hammerTime.get("swipe").set({direction:e}),x.manageEvents.list.hammer.push({element:x.$container,handler:n}))},keyNavigation:function(){var e=c(document,"keyup",function(e){e||(e=window.event);var t=parseInt(String.fromCharCode(e.keyCode));switch(t>0&&t<=x.noOfSteps&&x.options.numericKeysGoToSteps&&x.goTo(t),e.keyCode){case 37:x.options.keyEvents.left(x);break;case 39:x.options.keyEvents.right(x)}});x.manageEvents.list.keyup.push({element:document,handler:e})},resizeThrottle:function(){function e(){setTimeout(function(){x.canvas.getTransformProperties(),x.propertySupport.transitions===!0&&x.canvas.move(x.currentStepId,!1)},500),x.throttledResize(x)}var t,n;n=c(window,"resize",function(n){clearTimeout(t),t=setTimeout(e,k)}),x.manageEvents.list.resize.push({element:window,handler:n})},pageVisibility:function(){var e=c(document,A,function(){document[P]?x.autoPlay.pause():x.autoPlay.unpause()},!1);x.manageEvents.list[A].push({element:document,handler:e})}}},x.init=function(t){var n,i,r,o;x.options=a(w,s),x.isAnimating=!1,x.isReady=!1,x.$container=t,x.$screen=x.$container.querySelectorAll(".seq-screen")[0],x.$canvas=x.$container.querySelectorAll(".seq-canvas")[0],x.$steps=x.canvas.getSteps(x.$canvas),x.noOfSteps=x.$steps.length,x.phasesAnimating=0,x.phasesSkipped=[],y(x.$container,b),n=x.options.startingStepId,h(x.$container,"seq-active"),x.propertySupport=x.animation.getPropertySupport(),x.isFallbackMode=x.animation.requiresFallbackMode(x.propertySupport),x.canvas.init(n),x.canvas.removeNoJsClass(x),x.manageEvents.init(),x.autoPlay.init(),x.firstRun=!0,n=x.hashTags.init(n),1===x.options.autoPlayDirection?(r=n-1,x.prevStepId=1>r?x.noOfSteps:r):(r=n+1,x.prevStepId=r>x.noOfSteps?1:r),x.currentStepId=x.prevStepId,i=x.prevStepId,x.animationFallback.setupCanvas(n),o=function(){x.animation.domDelay(function(){x.animation.domDelay(function(){x.animation.resetInheritedSpeed(i)}),x.isReady=!0,x.ready(x),x.goTo(n,x.options.autoPlayDirection,!0)})},x.options.preloader!==!1&&void 0!==document.querySelectorAll&&"function"==typeof e?x.preload.init(function(){o()}):o()},x.destroy=function(){var e,t,n;for(x.autoPlay.stop(),clearTimeout(x.autoPlayTimer),clearTimeout(x.phaseThresholdTimer),clearTimeout(x.stepEndedTimer),clearTimeout(x.currentPhaseEndedTimer),clearTimeout(x.nextPhaseStartedTimer),clearTimeout(x.nextPhaseEndedTimer),clearTimeout(x.fadeStepTimer),clearTimeout(x.hideTimer),clearTimeout(x.navigationSkipThresholdTimer),x.manageEvents.removeAll(x.manageEvents.list),f(x.$pagination.currentLinks,"seq-current"),f(x.$container,"seq-step"+x.currentStepId),f(x.$container,"seq-active"),x.$container.removeAttribute("style"),void 0!==x.$screen&&x.$screen.removeAttribute("style"),x.$canvas.removeAttribute("style"),e=0;e<x.noOfSteps;e++)t=x.$steps[e],t.removeAttribute("style"),x.animation.resetInheritedSpeed(e+1),f(t,"seq-in"),f(t,"seq-out");return n=x.$steps[x.options.startingStepId-1],x.animation.resetInheritedSpeed(x.options.startingStepId),h(n,"seq-in"),r.removeAttribute("data-seq-enabled"),x.destroyed(x),x=null},x.next=function(){var e=x.currentStepId+1;return e>x.noOfSteps&&x.options.cycle===!1?!1:(e>x.noOfSteps&&(e=1),x.goTo(e),e)},x.prev=function(){var e,t=x.currentStepId-1;return 1>t&&x.options.cycle===!1?!1:(1>t&&(t=x.noOfSteps),
x.options.reverseWhenNavigatingBackwards===!0&&(e=-1),x.goTo(t,e),t)},x.toggleAutoPlay=function(e){return x.isAutoPlaying===!1?x.start(e):x.stop(),x.isAutoPlaying},x.stop=function(){x.autoPlay.stop()},x.start=function(e){x.autoPlay.start(e)},x.goTo=function(e,t,n,i){if(t=x.animation.getDirection(e,t,x.currentStepId,x.noOfSteps,x.isFallbackMode,x.options.reverseWhenNavigatingBackwards,x.options.cycle),void 0===e||1>e||e>x.noOfSteps||e===x.currentStepId||x.options.navigationSkip===!1&&x.isAnimating===!0||x.options.navigationSkip===!0&&x.navigationSkipThresholdActive===!0&&void 0===i||x.isFallbackMode===!0&&x.isAnimating===!0&&void 0===i||x.options.preventReverseSkipping===!0&&x.direction!==t&&x.isAnimating===!0)return!1;var r,s;return clearTimeout(x.autoPlayTimer),x.direction=t,1===t?f(x.$container,"seq-reversed"):h(x.$container,"seq-reversed"),r=x.$steps[x.currentStepId-1],s=x.$steps[e-1],x.animation.moveActiveStepToTop(r,s),x.animation.changeStep(e),x.isFallbackMode===!1?(x.animation.resetInheritedSpeed(e),(x.firstRun===!1||x.firstRun===!0&&x.options.startingStepAnimatesIn===!0)&&x.animationStarted(e,x),x.canvas.move(e,!0),x.animation.manageNavigationSkip(e,s),1===t?x.animation.forward(e,r,s,n,i):x.animation.reverse(e,r,s,n,i)):x.animationFallback.goTo(e,x.currentStepId,r,e,s,t,i),!0},x.started=function(e){},x.stopped=function(e){},x.animationStarted=function(e,t){},x.animationEnded=function(e,t){},x.currentPhaseStarted=function(e,t){},x.currentPhaseEnded=function(e,t){},x.nextPhaseStarted=function(e,t){},x.nextPhaseEnded=function(e,t){},x.throttledResize=function(e){},x.preloaded=function(e){},x.preloadProgress=function(e,t,n,i,r){},x.ready=function(e){},x.destroyed=function(e){},x.utils={addClass:h,removeClass:f,addEvent:c,removeEvent:l},x.init(r),n.push(x),x};return r}if(function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,r=this,s=r.EventEmitter;i.getListeners=function(e){var t,n,i=this._getEvents();if("object"==typeof e){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;e.length>t;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,n){var i,r=this.getListenersAsObject(e),s="object"==typeof n;for(i in r)r.hasOwnProperty(i)&&-1===t(r[i],n)&&r[i].push(s?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,n){var i,r,s=this.getListenersAsObject(e);for(r in s)s.hasOwnProperty(r)&&(i=t(s[r],n),-1!==i&&s[r].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,r,s=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)s.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?s.call(this,i,r):o.call(this,i,r));return this},i.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if("object"===n)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(e,t){var n,i,r,s,o=this.getListenersAsObject(e);for(r in o)if(o.hasOwnProperty(r))for(i=o[r].length;i--;)n=o[r][i],n.once===!0&&this.removeListener(e,n.listener),s=n.listener.apply(this,t||[]),s===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=s,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(i=function(e,n,i){e[n+i]=i.handleEvent?function(){var n=t(e);i.handleEvent.call(i,n)}:function(){var n=t(e);i.call(e,n)},e.attachEvent("on"+n,e[n+i])});var r=function(){};n.removeEventListener?r=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(r=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var s={bind:i,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",s):e.eventie=s}(this),function(e,t){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(n,i){return t(e,n,i)}):"object"==typeof exports?module.exports=t(e,require("eventEmitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(this,function(e,t,n){function i(e,t){for(var n in t)e[n]=t[n];return e}function r(e){return"[object Array]"===p.call(e)}function s(e){var t=[];if(r(e))t=e;else if("number"==typeof e.length)for(var n=0,i=e.length;i>n;n++)t.push(e[n]);else t.push(e);return t}function o(e,t,n){if(!(this instanceof o))return new o(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=s(e),this.options=i({},this.options),"function"==typeof t?n=t:i(this.options,t),n&&this.on("always",n),this.getImages(),c&&(this.jqDeferred=new c.Deferred);var r=this;setTimeout(function(){r.check()})}function a(e){this.img=e}function u(e){this.src=e,h[e]=this}var c=e.jQuery,l=e.console,d=void 0!==l,p=Object.prototype.toString;o.prototype=new t,o.prototype.options={},o.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var n=this.elements[e];if("IMG"===n.nodeName&&this.addImage(n),n.nodeType&&(1===n.nodeType||9===n.nodeType))for(var i=n.querySelectorAll("img"),r=0,s=i.length;s>r;r++){var o=i[r];this.addImage(o)}}},o.prototype.addImage=function(e){var t=new a(e);this.images.push(t)},o.prototype.check=function(){function e(e,r){return t.options.debug&&d&&l.log("confirm",e,r),t.progress(e),n++,n===i&&t.complete(),!0}var t=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return void this.complete();for(var r=0;i>r;r++){var s=this.images[r];s.on("confirm",e),s.check()}},o.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},o.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var n=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[n](t)}})},c&&(c.fn.imagesLoaded=function(e,t){var n=new o(this,e,t);return n.jqDeferred.promise(c(this))}),a.prototype=new t,a.prototype.check=function(){var e=h[this.img.src]||new u(this.img.src);if(e.isConfirmed)return void this.confirm(e.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var t=this;e.on("confirm",function(e,n){return t.confirm(e.isLoaded,n),!0}),e.check()},a.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var h={};return u.prototype=new t,u.prototype.check=function(){if(!this.isChecked){var e=new Image;n.bind(e,"load",this),n.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},u.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},u.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},u.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},u.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},u.prototype.unbindProxyEvents=function(e){n.unbind(e.target,"load",this),n.unbind(e.target,"error",this)},o}),!function(e,t,n,i){"use strict";function r(e,t,n){return setTimeout(l(e,n),t)}function s(e,t,n){return Array.isArray(e)?(o(e,n[t],n),!0):!1}function o(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==i)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function a(e,t,n){for(var r=Object.keys(t),s=0;s<r.length;)(!n||n&&e[r[s]]===i)&&(e[r[s]]=t[r[s]]),s++;return e}function u(e,t){return a(e,t,!0)}function c(e,t,n){var i,r=t.prototype;i=e.prototype=Object.create(r),i.constructor=e,i._super=r,n&&a(i,n)}function l(e,t){return function(){return e.apply(t,arguments)}}function d(e,t){return typeof e==le?e.apply(t?t[0]||i:i,t):e}function p(e,t){return e===i?t:e}function h(e,t,n){o(g(t),function(t){e.addEventListener(t,n,!1)})}function f(e,t,n){o(g(t),function(t){e.removeEventListener(t,n,!1)})}function m(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function v(e,t){return e.indexOf(t)>-1}function g(e){return e.trim().split(/\s+/g)}function y(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function T(e){return Array.prototype.slice.call(e,0)}function w(e,t,n){for(var i=[],r=[],s=0;s<e.length;){var o=t?e[s][t]:e[s];y(r,o)<0&&i.push(e[s]),r[s]=o,s++}return n&&(i=t?i.sort(function(e,n){return e[t]>n[t]}):i.sort()),i}function E(e,t){for(var n,r,s=t[0].toUpperCase()+t.slice(1),o=0;o<ue.length;){if(n=ue[o],r=n?n+s:t,r in e)return r;o++}return i}function k(){return fe++}function S(e){var t=e.ownerDocument;return t.defaultView||t.parentWindow}function b(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){d(e.options.enable,[e])&&n.handler(t)},this.init()}function P(e){var t,n=e.options.inputClass;return new(t=n?n:ge?z:ye?B:ve?Y:H)(e,A)}function A(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,s=t&be&&i-r===0,o=t&(Ae|xe)&&i-r===0;n.isFirst=!!s,n.isFinal=!!o,s&&(e.session={}),n.eventType=t,x(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function x(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=O(t)),r>1&&!n.firstMultiple?n.firstMultiple=O(t):1===r&&(n.firstMultiple=!1);var s=n.firstInput,o=n.firstMultiple,a=o?o.center:s.center,u=t.center=D(i);t.timeStamp=he(),t.deltaTime=t.timeStamp-s.timeStamp,t.angle=M(a,u),t.distance=_(a,u),q(n,t),t.offsetDirection=L(t.deltaX,t.deltaY),t.scale=o?R(o.pointers,i):1,t.rotation=o?N(o.pointers,i):0,I(n,t);var c=e.element;m(t.srcEvent.target,c)&&(c=t.srcEvent.target),t.target=c}function q(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},s=e.prevInput||{};(t.eventType===be||s.eventType===Ae)&&(r=e.prevDelta={x:s.deltaX||0,y:s.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}function I(e,t){var n,r,s,o,a=e.lastInterval||t,u=t.timeStamp-a.timeStamp;if(t.eventType!=xe&&(u>Se||a.velocity===i)){var c=a.deltaX-t.deltaX,l=a.deltaY-t.deltaY,d=C(u,c,l);r=d.x,s=d.y,n=pe(d.x)>pe(d.y)?d.x:d.y,o=L(c,l),e.lastInterval=t}else n=a.velocity,r=a.velocityX,s=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=s,t.direction=o}function O(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:de(e.pointers[n].clientX),clientY:de(e.pointers[n].clientY)},n++;return{timeStamp:he(),pointers:t,center:D(t),deltaX:e.deltaX,deltaY:e.deltaY}}function D(e){var t=e.length;if(1===t)return{x:de(e[0].clientX),y:de(e[0].clientY)};for(var n=0,i=0,r=0;t>r;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:de(n/t),y:de(i/t)}}function C(e,t,n){return{x:t/e||0,y:n/e||0}}function L(e,t){return e===t?qe:pe(e)>=pe(t)?e>0?Ie:$e:t>0?Oe:De}function _(e,t,n){n||(n=Me);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function M(e,t,n){n||(n=Me);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return 180*Math.atan2(r,i)/Math.PI}function N(e,t){return M(t[1],t[0],Ne)-M(e[1],e[0],Ne)}function R(e,t){return _(t[0],t[1],Ne)/_(e[0],e[1],Ne)}function H(){this.evEl=He,this.evWin=ze,this.allow=!0,this.pressed=!1,b.apply(this,arguments)}function z(){this.evEl=Be,this.evWin=We,b.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function F(){this.evTarget=Xe,this.evWin=Ve,this.started=!1,b.apply(this,arguments)}function j(e,t){var n=T(e.touches),i=T(e.changedTouches);return t&(Ae|xe)&&(n=w(n.concat(i),"identifier",!0)),[n,i]}function B(){this.evTarget=Ue,this.targetIds={},b.apply(this,arguments)}function W(e,t){var n=T(e.touches),i=this.targetIds;if(t&(be|Pe)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,s,o=T(e.changedTouches),a=[],u=this.target;if(s=n.filter(function(e){return m(e.target,u)}),t===be)for(r=0;r<s.length;)i[s[r].identifier]=!0,r++;for(r=0;r<o.length;)i[o[r].identifier]&&a.push(o[r]),t&(Ae|xe)&&delete i[o[r].identifier],r++;return a.length?[w(s.concat(a),"identifier",!0),a]:void 0}function Y(){b.apply(this,arguments);var e=l(this.handler,this);this.touch=new B(this.manager,e),this.mouse=new H(this.manager,e)}function X(e,t){this.manager=e,this.set(t)}function V(e){if(v(e,tt))return tt;var t=v(e,nt),n=v(e,it);return t&&n?nt+" "+it:t||n?t?nt:it:v(e,et)?et:Ke}function Q(e){this.id=k(),this.manager=null,this.options=u(e||{},this.defaults),this.options.enable=p(this.options.enable,!0),this.state=rt,this.simultaneous={},this.requireFail=[]}function U(e){return e&ct?"cancel":e&at?"end":e&ot?"move":e&st?"start":""}function G(e){return e==De?"down":e==Oe?"up":e==Ie?"left":e==$e?"right":""}function Z(e,t){var n=t.manager;return n?n.get(e):e}function J(){Q.apply(this,arguments)}function $(){J.apply(this,arguments),this.pX=null,this.pY=null}function K(){J.apply(this,arguments)}function ee(){Q.apply(this,arguments),this._timer=null,this._input=null}function te(){J.apply(this,arguments)}function ne(){J.apply(this,arguments)}function ie(){Q.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function re(e,t){return t=t||{},t.recognizers=p(t.recognizers,re.defaults.preset),new se(e,t)}function se(e,t){t=t||{},this.options=u(t,re.defaults),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.element=e,this.input=P(this),this.touchAction=new X(this,this.options.touchAction),oe(this,!0),o(t.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function oe(e,t){var n=e.element;o(e.options.cssProps,function(e,i){n.style[E(n.style,i)]=t?e:""})}function ae(e,n){var i=t.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=n,n.target.dispatchEvent(i)}var ue=["","webkit","moz","MS","ms","o"],ce=t.createElement("div"),le="function",de=Math.round,pe=Math.abs,he=Date.now,fe=1,me=/mobile|tablet|ip(ad|hone|od)|android/i,ve="ontouchstart"in e,ge=E(e,"PointerEvent")!==i,ye=ve&&me.test(navigator.userAgent),Te="touch",we="pen",Ee="mouse",ke="kinect",Se=25,be=1,Pe=2,Ae=4,xe=8,qe=1,Ie=2,$e=4,Oe=8,De=16,Ce=Ie|$e,Le=Oe|De,_e=Ce|Le,Me=["x","y"],Ne=["clientX","clientY"];b.prototype={handler:function(){},init:function(){this.evEl&&h(this.element,this.evEl,this.domHandler),this.evTarget&&h(this.target,this.evTarget,this.domHandler),this.evWin&&h(S(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(S(this.element),this.evWin,this.domHandler)}};var Re={mousedown:be,mousemove:Pe,mouseup:Ae},He="mousedown",ze="mousemove mouseup";c(H,b,{handler:function(e){var t=Re[e.type];t&be&&0===e.button&&(this.pressed=!0),t&Pe&&1!==e.which&&(t=Ae),this.pressed&&this.allow&&(t&Ae&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:Ee,srcEvent:e}))}});var Fe={pointerdown:be,pointermove:Pe,pointerup:Ae,pointercancel:xe,pointerout:xe},je={2:Te,3:we,4:Ee,5:ke},Be="pointerdown",We="pointermove pointerup pointercancel";e.MSPointerEvent&&(Be="MSPointerDown",We="MSPointerMove MSPointerUp MSPointerCancel"),c(z,b,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=Fe[i],s=je[e.pointerType]||e.pointerType,o=s==Te,a=y(t,e.pointerId,"pointerId");r&be&&(0===e.button||o)?0>a&&(t.push(e),a=t.length-1):r&(Ae|xe)&&(n=!0),0>a||(t[a]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:s,srcEvent:e}),n&&t.splice(a,1))}});var Ye={touchstart:be,touchmove:Pe,touchend:Ae,touchcancel:xe},Xe="touchstart",Ve="touchstart touchmove touchend touchcancel";c(F,b,{handler:function(e){var t=Ye[e.type];if(t===be&&(this.started=!0),this.started){var n=j.call(this,e,t);t&(Ae|xe)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Te,srcEvent:e})}}});var Qe={touchstart:be,touchmove:Pe,touchend:Ae,touchcancel:xe},Ue="touchstart touchmove touchend touchcancel";c(B,b,{handler:function(e){var t=Qe[e.type],n=W.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Te,srcEvent:e})}}),c(Y,b,{handler:function(e,t,n){var i=n.pointerType==Te,r=n.pointerType==Ee;if(i)this.mouse.allow=!1;else if(r&&!this.mouse.allow)return;t&(Ae|xe)&&(this.mouse.allow=!0),this.callback(e,t,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ge=E(ce.style,"touchAction"),Ze=Ge!==i,Je="compute",Ke="auto",et="manipulation",tt="none",nt="pan-x",it="pan-y";X.prototype={set:function(e){e==Je&&(e=this.compute()),Ze&&(this.manager.element.style[Ge]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return o(this.manager.recognizers,function(t){d(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),V(e.join(" "))},preventDefaults:function(e){if(!Ze){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var i=this.actions,r=v(i,tt),s=v(i,it),o=v(i,nt);return r||s&&n&Ce||o&&n&Le?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var rt=1,st=2,ot=4,at=8,ut=at,ct=16,lt=32;Q.prototype={defaults:{},set:function(e){return a(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(s(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=Z(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return s(e,"dropRecognizeWith",this)?this:(e=Z(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(s(e,"requireFailure",this))return this;var t=this.requireFail;return e=Z(e,this),-1===y(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(s(e,"dropRequireFailure",this))return this;e=Z(e,this);var t=y(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(n.options.event+(t?U(i):""),e)}var n=this,i=this.state;at>i&&t(!0),t(),i>=at&&t(!0)},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=lt)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(lt|rt)))return!1;e++}return!0},recognize:function(e){var t=a({},e);return d(this.options.enable,[this,t])?(this.state&(ut|ct|lt)&&(this.state=rt),this.state=this.process(t),void(this.state&(st|ot|at|ct)&&this.tryEmit(t))):(this.reset(),void(this.state=lt))},process:function(){},getTouchAction:function(){},reset:function(){}},c(J,Q,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=t&(st|ot),r=this.attrTest(e);return i&&(n&xe||!r)?t|ct:i||r?n&Ae?t|at:t&st?t|ot:st:lt}}),c($,J,{defaults:{event:"pan",threshold:10,pointers:1,direction:_e},getTouchAction:function(){var e=this.options.direction,t=[];return e&Ce&&t.push(it),e&Le&&t.push(nt),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,s=e.deltaX,o=e.deltaY;return r&t.direction||(t.direction&Ce?(r=0===s?qe:0>s?Ie:$e,n=s!=this.pX,i=Math.abs(e.deltaX)):(r=0===o?qe:0>o?Oe:De,n=o!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return J.prototype.attrTest.call(this,e)&&(this.state&st||!(this.state&st)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=G(e.direction);t&&this.manager.emit(this.options.event+t,e),this._super.emit.call(this,e)}}),c(K,J,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[tt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&st)},emit:function(e){if(this._super.emit.call(this,e),1!==e.scale){var t=e.scale<1?"in":"out";this.manager.emit(this.options.event+t,e)}}}),c(ee,Q,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Ke]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,s=e.deltaTime>t.time;if(this._input=e,!i||!n||e.eventType&(Ae|xe)&&!s)this.reset();else if(e.eventType&be)this.reset(),this._timer=r(function(){this.state=ut,this.tryEmit()},t.time,this);else if(e.eventType&Ae)return ut;return lt},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===ut&&(e&&e.eventType&Ae?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=he(),this.manager.emit(this.options.event,this._input)))}}),c(te,J,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[tt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&st)}}),c(ne,J,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Ce|Le,pointers:1},getTouchAction:function(){return $.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Ce|Le)?t=e.velocity:n&Ce?t=e.velocityX:n&Le&&(t=e.velocityY),this._super.attrTest.call(this,e)&&n&e.direction&&e.distance>this.options.threshold&&pe(t)>this.options.velocity&&e.eventType&Ae},emit:function(e){var t=G(e.direction);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),c(ie,Q,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[et]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,s=e.deltaTime<t.time;if(this.reset(),e.eventType&be&&0===this.count)return this.failTimeout();if(i&&s&&n){if(e.eventType!=Ae)return this.failTimeout();var o=this.pTime?e.timeStamp-this.pTime<t.interval:!0,a=!this.pCenter||_(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e;var u=this.count%t.taps;if(0===u)return this.hasRequireFailures()?(this._timer=r(function(){this.state=ut,this.tryEmit()},t.interval,this),st):ut}return lt},failTimeout:function(){return this._timer=r(function(){this.state=lt},this.options.interval,this),lt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ut&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),re.VERSION="2.0.4",re.defaults={domEvents:!1,touchAction:Je,enable:!0,inputTarget:null,inputClass:null,preset:[[te,{enable:!1}],[K,{enable:!1},["rotate"]],[ne,{direction:Ce}],[$,{direction:Ce},["swipe"]],[ie],[ie,{event:"doubletap",taps:2},["tap"]],[ee]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var dt=1,pt=2;se.prototype={set:function(e){return a(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?pt:dt},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,i=this.recognizers,r=t.curRecognizer;(!r||r&&r.state&ut)&&(r=t.curRecognizer=null);for(var s=0;s<i.length;)n=i[s],t.stopped===pt||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&n.state&(st|ot|at)&&(r=t.curRecognizer=n),s++}},get:function(e){if(e instanceof Q)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(s(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(s(e,"remove",this))return this;var t=this.recognizers;return e=this.get(e),t.splice(y(t,e),1),this.touchAction.update(),this},on:function(e,t){var n=this.handlers;return o(g(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this},off:function(e,t){var n=this.handlers;return o(g(e),function(e){t?n[e].splice(y(n[e],t),1):delete n[e]}),this},emit:function(e,t){this.options.domEvents&&ae(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&oe(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},a(re,{INPUT_START:be,INPUT_MOVE:Pe,INPUT_END:Ae,INPUT_CANCEL:xe,STATE_POSSIBLE:rt,STATE_BEGAN:st,STATE_CHANGED:ot,STATE_ENDED:at,STATE_RECOGNIZED:ut,STATE_CANCELLED:ct,STATE_FAILED:lt,DIRECTION_NONE:qe,DIRECTION_LEFT:Ie,DIRECTION_RIGHT:$e,DIRECTION_UP:Oe,DIRECTION_DOWN:De,DIRECTION_HORIZONTAL:Ce,DIRECTION_VERTICAL:Le,DIRECTION_ALL:_e,Manager:se,Input:b,TouchAction:X,TouchInput:B,MouseInput:H,PointerEventInput:z,TouchMouseInput:Y,SingleTouchInput:F,Recognizer:Q,AttrRecognizer:J,Tap:ie,Pan:$,Swipe:ne,Pinch:K,Rotate:te,Press:ee,on:h,off:f,each:o,merge:u,extend:a,inherit:c,bindFn:l,prefixed:E}),typeof define==le&&define.amd?define(function(){return re}):"undefined"!=typeof module&&module.exports?module.exports=re:e[n]=re}(window,document,"Hammer"),"function"==typeof define&&define.amd)define(["imagesLoaded","Hammer"],defineSequence);else{Hammer="function"!=typeof Hammer?null:Hammer,imagesLoaded="function"!=typeof imagesLoaded?null:imagesLoaded;var sequence=defineSequence(imagesLoaded,Hammer)}var isMobile_kt_slider={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile_kt_slider.Android()||isMobile_kt_slider.BlackBerry()||isMobile_kt_slider.iOS()||isMobile_kt_slider.Opera()||isMobile_kt_slider.Windows()}};jQuery(document).ready(function($){function e(){var e=jQuery(window).height();jQuery(".kad-slider-wrapper .kad-slider").height(e),jQuery(".kad-slider-wrapper .kad-slider .kad-slider-canvas").height(e)}function t(){var e=jQuery(".kad-slider .kad-slide img").height(),t=jQuery(".kad-slider-wrapper").attr("data-ktslider-height");if(e>t)var n=t,i="50%",r=-+e/2;else var n=e,i=0,r=0;jQuery(".kad-slider-wrapper .kad-slider").height(n),jQuery(".kad-slider-wrapper .kad-slider .kad-slider-canvas").height(n),jQuery(".kad-slider .kad-slide img").css("top",i),jQuery(".kad-slider .kad-slide img").css("margin-top",r)}function n(){var e=jQuery(".kad-slider-wrapper").attr("data-ktslider-count");if("1"==e)var t=jQuery(".kad-slider .kad-slide img").height();else var t=jQuery(".kad-slider .seq-in .kad-slide img").height();var n=$(".kad-slider-wrapper").attr("data-ktslider-height");if(t>n)var i=n,r="50%",s=-+t/2;else var i=t,r=0,s=0;jQuery(".kad-slider-wrapper .kad-slider").height(i),jQuery(".kad-slider-wrapper .kad-slider .kad-slider-canvas").height(i),"1"==e?(jQuery(".kad-slider .kad-slide img").css("top",r),jQuery(".kad-slider .kad-slide img").css("margin-top",s)):(jQuery(".kad-slider .seq-in .kad-slide img").css("top",r),jQuery(".kad-slider .seq-in .kad-slide img").css("margin-top",s))}function i(){var e=$(window).scrollTop()*-.004;$(".sliderclass .kad-slider-parallax .kad-slider .caption-case-inner").css({opacity:e+1}),$(".sliderclass .kad_fullslider_arrow").css({opacity:e+1}),$(".sliderclass .kad-slider ul.kad-slider-pagination").css({opacity:e+1})}$(".kad-slider-parallax .kad-slider .kad-slide").each(function(){$(this).css({backgroundPosition:"50% 0px"}),$(this).appear(function(){var e=$(this);$(window).scroll(function(){var t=-($(window).scrollTop()/10),n="50% "+t+"px";e.css({backgroundPosition:n})})})}),$(".sliderclass .kad-slider-parallax .kad-slider .caption-case-inner").css({opacity:1}),$(".sliderclass .kad_fullslider_arrow").css({opacity:1}),$(".sliderclass .kad-slider ul.kad-slider-pagination").css({opacity:1}),$(window).scroll(i),$(".kad-slider-wrapper").each(function(){var i=$(this),r=i.attr("data-ktslider-auto-play"),s=i.attr("data-ktslider-pause-time"),o=i.attr("data-ktslider-id"),a=i.attr("data-ktslider-height");kt_height_type=i.attr("data-ktslider-height-type");var u="kad-slider-"+o;if("full"==kt_height_type)if(e(),isMobile_kt_slider.any())$(window).on("orientationchange",function(){e()});else{var c;$(window).resize(function(){clearTimeout(c),c=setTimeout(e,100)})}else if("ratio"==kt_height_type)if(t(),isMobile_kt_slider.any())$(window).on("orientationchange",function(){n()});else{var c;$(window).resize(function(){clearTimeout(c),c=setTimeout(n,100)})}r="true"==r?!0:!1;var l={animateStartingFrameIn:!0,autoPlay:r,preloader:!0,autoPlayInterval:s,fadeFrameWhenSkipped:!0,fadeFrameTime:700,pagination:".kad-slider-pagination",nextButton:".kad-slider-next",prevButton:".kad-slider-prev"},d=document.getElementById(u),p=sequence(d,l);"ratio"==kt_height_type&&(p.preloaded=function(){n()},p.nextPhaseEnded=function(){n()})})});